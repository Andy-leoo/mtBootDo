<!DOCTYPE html>
<html lang="zh_CN" xmlns:th="http://www.thymeleaf.org"
>
<meta charset="utf-8">
<head th:include="include :: header"></head>
<body class="gray-bg">
<div class="wrapper wrapper-content ">
	<div class="row">
		<form  method="post" action="/train/files/save" enctype="multipart/form-data">
			<div class="form-group">
				<label for="title">文件标题</label>
				<input type="title" class="form-control" id="title" name="title" >
			</div>
			<div class="form-group">
				<label for="detail">文件详情</label>
				<input type="text" class="form-control" id="detail" name="detail">
			</div>
			<div class="form-group">
				<label for="file">请选择文件：</label>
				<input type="file" name="file" id="file" accept=".doc,.docx,.xls,.xlsx">
				<p class="help-block"></p>
			</div>
			<div class="col-sm-3">
				<div class="ibox ibox-body">
					<div class="ibox-title">
						<h5>选择部门</h5>
					</div>
					<div class="ibox-content">
						<div id="jstree"></div>
					</div>
				</div>
			</div>
			<div class="col-sm-5">
			<div class="ibox">
				<div class="ibox-body">
					<div class="fixed-table-toolbar">
						<input type="button" onclick="getIdSelections()" th:value="通知选中用户">
					</div>
					<table id="exampleTable" data-mobile-responsive="true">
					</table>
				</div>
			</div>
		</div>
			<input type="hidden" id="userIds" name="userIds">
			<div id="checkUser" class="col-sm-4" style="color: #0e9aef" th:width="50px" th:high="50px"/>

			<div class="col-sm-12" th:align="center">
				<button type="submit" id="submit" class="btn btn-primary">提交</button>
			</div>
		</form>
	</div>
</div>
<div th:include="include :: footer"></div>
<script type="text/javascript" src="/static/js/appjs/train/files/user.js"/>
<script type="text/javascript">
    $('#submit').click(function(){
        //jquery获取复选框值
        var chk_value =[];//定义一个数组
		//找到checkUser下所有div
        // var allUserId = $('#checkUser').find("div")
        // $('input[name="checkUser"]:checked').each(function(){//遍历每一个名字为interest的复选框，其中选中的执行函数
        //     chk_value.push($(this).val());//将选中的值添加到数组chk_value中
        // });
        $('#checkUser input[type=text]').each(function () {
            chk_value.push($(this).val());
        })
        alert(chk_value);
        $("#userIds").val(chk_value);
    });
</script>
</body>
</html>